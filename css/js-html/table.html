<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML/CSS/JavaScript Starter</title>
    <script src="../../resources/node_modules/requirejs/require.js"></script>
    <script src="requirejs-config.js"></script>
</head>
<body>

<table>
    <thead>
    <tr>
        <th>State</th>
        <th>Capital</th>
    </tr>
    </thead>
    <tbody data-bind="foreach: states">
    <tr>
        <td data-bind="text: $data.name"></td>
        <td data-bind="text: $data.capital"></td>
    </tr>
    </tbody>
</table>

<script>
    require(['knockout', 'data/capitals'], function (ko, capitals) {
        function ViewModel() {
            this.states = [];

            this.init(capitals);
        }
        ViewModel.prototype.init = function (capitals) {
            for (let key in capitals) {
                let state = capitals[key];
                state.shortName = key;
                this.states.push(state);
            }
        };

        let vm = new ViewModel();
        ko.applyBindings(vm);
    });
</script>

</body>
</html>

